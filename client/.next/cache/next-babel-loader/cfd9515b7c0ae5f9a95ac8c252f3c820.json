{"ast":null,"code":"var _jsxFileName = \"/usr/src/app/pages/secure-page.tsx\";\nvar __jsx = React.createElement;\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nimport React, { Component } from \"react\";\nimport { withAuth } from \"utils/auth\";\nimport { UserApi } from \"services\";\nconst bulletIcon = __jsx(\"span\", {\n  style: {\n    marginRight: \"5px\"\n  },\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 5,\n    columnNumber: 20\n  }\n}, \"\\u2022\");\nconst highlightedBulletIcon = __jsx(\"span\", {\n  style: {\n    color: \"green\",\n    marginRight: \"5px\"\n  },\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 6,\n    columnNumber: 31\n  }\n}, \"\\u2022\");\nclass SecurePage extends Component {\n  constructor(props) {\n    super(props);\n    _defineProperty(this, \"togglePasswordVisibility\", () => {\n      this.setState(prevState => ({\n        showPassword: !prevState.showPassword\n      }));\n    });\n    this.state = {\n      userData: null,\n      showPassword: false\n    };\n  }\n  componentDidMount() {\n    this.loadUserData();\n  }\n  async loadUserData() {\n    try {\n      const {\n        token,\n        decodedToken\n      } = this.props.auth;\n      const api = new UserApi();\n      api.setup();\n      const response = await api.getUserById(token, decodedToken.id);\n      if (response.kind === \"ok\") {\n        this.setState({\n          userData: response.user\n        });\n      } else {\n        console.error(\"Error fetching user data:\", response.error);\n      }\n    } catch (err) {\n      console.error(\"Error fetching user data:\", err);\n    }\n  }\n  render() {\n    const {\n      userData,\n      showPassword\n    } = this.state;\n    return __jsx(\"div\", {\n      style: {\n        maxWidth: \"600px\",\n        margin: \"auto\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 7\n      }\n    }, __jsx(\"h1\", {\n      style: {\n        textAlign: \"center\",\n        marginBottom: \"20px\",\n        color: \"#333\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }\n    }, \"Secure Page\"), userData ? __jsx(\"div\", {\n      style: {\n        border: \"1px solid #ccc\",\n        borderRadius: \"5px\",\n        padding: \"20px\",\n        backgroundColor: \"#f9f9f9\",\n        boxShadow: \"0px 0px 10px rgba(0, 0, 0, 0.1)\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 11\n      }\n    }, __jsx(\"div\", {\n      style: {\n        textAlign: \"center\",\n        marginBottom: \"20px\",\n        fontSize: \"1.2rem\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 13\n      }\n    }, __jsx(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 15\n      }\n    }, __jsx(\"strong\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 18\n      }\n    }, \"Email:\"), \" \", userData.email), __jsx(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 15\n      }\n    }, __jsx(\"strong\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 17\n      }\n    }, \"Password:\"), \" \", showPassword ? __jsx(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 19\n      }\n    }, userData.password) : __jsx(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 19\n      }\n    }, \"*********\"), __jsx(\"button\", {\n      onClick: this.togglePasswordVisibility,\n      style: {\n        marginLeft: \"10px\",\n        padding: \"5px 10px\",\n        backgroundColor: \"#007bff\",\n        color: \"#fff\",\n        border: \"none\",\n        borderRadius: \"5px\",\n        cursor: \"pointer\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 17\n      }\n    }, showPassword ? \"Hide\" : \"Show\")))) : __jsx(\"div\", {\n      style: {\n        textAlign: \"center\",\n        color: \"#777\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 11\n      }\n    }, \"Loading...\"));\n  }\n}\nexport default withAuth(SecurePage);","map":{"version":3,"names":["React","Component","withAuth","UserApi","bulletIcon","__jsx","style","marginRight","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","highlightedBulletIcon","color","SecurePage","constructor","props","_defineProperty","setState","prevState","showPassword","state","userData","componentDidMount","loadUserData","token","decodedToken","auth","api","setup","response","getUserById","id","kind","user","console","error","err","render","maxWidth","margin","textAlign","marginBottom","border","borderRadius","padding","backgroundColor","boxShadow","fontSize","email","password","onClick","togglePasswordVisibility","marginLeft","cursor"],"sources":["/usr/src/app/pages/secure-page.tsx"],"sourcesContent":["import React, { Component } from \"react\";\r\nimport { withAuth } from \"utils/auth\";\r\nimport { UserApi } from \"services\";\r\n\r\nconst bulletIcon = <span style={{ marginRight: \"5px\" }}>&#8226;</span>;\r\nconst highlightedBulletIcon = <span style={{ color: \"green\", marginRight: \"5px\" }}>&#8226;</span>;\r\n\r\nclass SecurePage extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      userData: null,\r\n      showPassword: false,\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.loadUserData();\r\n  }\r\n\r\n  async loadUserData() {\r\n    try {\r\n      const { token, decodedToken } = this.props.auth;\r\n      const api = new UserApi();\r\n      api.setup();\r\n      const response = await api.getUserById(token, decodedToken.id);\r\n\r\n      if (response.kind === \"ok\") {\r\n        this.setState({ userData: response.user });\r\n      } else {\r\n        console.error(\"Error fetching user data:\", response.error);\r\n      }\r\n    } catch (err) {\r\n      console.error(\"Error fetching user data:\", err);\r\n    }\r\n  }\r\n\r\n  togglePasswordVisibility = () => {\r\n    this.setState((prevState) => ({\r\n      showPassword: !prevState.showPassword,\r\n    }));\r\n  };\r\n\r\n  render() {\r\n    const { userData, showPassword } = this.state;\r\n\r\n    return (\r\n      <div style={{ maxWidth: \"600px\", margin: \"auto\" }}>\r\n        <h1 style={{ textAlign: \"center\", marginBottom: \"20px\", color: \"#333\" }}>Secure Page</h1>\r\n        {userData ? (\r\n          <div style={{ border: \"1px solid #ccc\", borderRadius: \"5px\", padding: \"20px\", backgroundColor: \"#f9f9f9\", boxShadow: \"0px 0px 10px rgba(0, 0, 0, 0.1)\" }}>\r\n            <div style={{ textAlign: \"center\", marginBottom: \"20px\", fontSize: \"1.2rem\" }}>\r\n              <p><strong>Email:</strong> {userData.email}</p>\r\n              {/* Conditionally render password with toggle button */}\r\n              <p>\r\n                <strong>Password:</strong>{\" \"}\r\n                {showPassword ? (\r\n                  <span>{userData.password}</span>\r\n                ) : (\r\n                  <span>*********</span>\r\n                )}\r\n                <button\r\n                  onClick={this.togglePasswordVisibility}\r\n                  style={{\r\n                    marginLeft: \"10px\",\r\n                    padding: \"5px 10px\",\r\n                    backgroundColor: \"#007bff\",\r\n                    color: \"#fff\",\r\n                    border: \"none\",\r\n                    borderRadius: \"5px\",\r\n                    cursor: \"pointer\",\r\n                  }}\r\n                >\r\n                  {showPassword ? \"Hide\" : \"Show\"}\r\n                </button>\r\n              </p>\r\n            </div>\r\n          </div>\r\n        ) : (\r\n          <div style={{ textAlign: \"center\", color: \"#777\" }}>Loading...</div>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withAuth(SecurePage);\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}