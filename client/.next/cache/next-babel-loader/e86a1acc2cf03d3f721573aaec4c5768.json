{"ast":null,"code":"var _jsxFileName = \"/home/maram/Desktop/1testpfa11/flask-nextjs-user-management-example2.0/client/pages/_app.tsx\";\nimport React from \"react\";\nvar __jsx = React.createElement;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport App from \"next/app\";\nimport Router from \"next/router\";\nimport NProgress from \"nprogress\";\nimport { Header } from \"components/layout\";\nimport { ErrorBoundary } from \"components/error-boundary\";\nimport { ProvideAuth, AuthToken, TOKEN_STORAGE_NAME } from \"utils/auth\";\nimport { Container } from \"reactstrap\";\nimport nookies from \"nookies\";\nexport default class CustomApp extends App {\n  static async getInitialProps({\n    Component,\n    ctx\n  }) {\n    const token = nookies.get(ctx)[TOKEN_STORAGE_NAME];\n    let initialProps = {};\n\n    if (token) {\n      const auth = new AuthToken(token);\n      initialProps = {\n        auth\n      };\n    }\n\n    if (Component.getInitialProps) {\n      return Component.getInitialProps(ctx, initialProps);\n    }\n\n    return initialProps;\n  }\n\n  get auth() {\n    if (this.props.auth) {\n      // the server pass to the client serializes the token\n      // so we have to reinitialize the authToken class\n      //\n      // @see https://github.com/zeit/next.js/issues/3536\n      return new AuthToken(this.props.auth.token);\n    }\n\n    return null;\n  }\n\n  componentDidMount() {\n    Router.events.on(\"routeChangeComplete\", () => {\n      NProgress.start();\n    });\n    Router.events.on(\"routeChangeComplete\", () => NProgress.done());\n    Router.events.on(\"routeChangeError\", () => NProgress.done());\n  }\n\n  componentDidCatch(error, errorInfo) {\n    super.componentDidCatch(error, errorInfo);\n  }\n\n  render() {\n    const {\n      Component,\n      pageProps\n    } = this.props;\n    return __jsx(ProvideAuth, {\n      auth: this.auth,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 7\n      }\n    }, __jsx(Header, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }\n    }), __jsx(ErrorBoundary, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }\n    }, __jsx(Container, {\n      className: \"mt-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 11\n      }\n    }, __jsx(Component, _extends({}, pageProps, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 13\n      }\n    })))));\n  }\n\n}","map":{"version":3,"sources":["/home/maram/Desktop/1testpfa11/flask-nextjs-user-management-example2.0/client/pages/_app.tsx"],"names":["App","Router","NProgress","Header","ErrorBoundary","ProvideAuth","AuthToken","TOKEN_STORAGE_NAME","Container","nookies","CustomApp","getInitialProps","Component","ctx","token","get","initialProps","auth","props","componentDidMount","events","on","start","done","componentDidCatch","error","errorInfo","render","pageProps"],"mappings":";;;;;;AAAA,OAAOA,GAAP,MAAgB,UAAhB;AACA,OAAOC,MAAP,MAAmB,aAAnB;AACA,OAAOC,SAAP,MAAsB,WAAtB;AACA,SAASC,MAAT,QAAuB,mBAAvB;AACA,SAASC,aAAT,QAA8B,2BAA9B;AACA,SAASC,WAAT,EAAsBC,SAAtB,EAAiCC,kBAAjC,QAA2D,YAA3D;AACA,SAASC,SAAT,QAA0B,YAA1B;AACA,OAAOC,OAAP,MAAoB,SAApB;AAMA,eAAe,MAAMC,SAAN,SAAwBV,GAAxB,CAA4C;AACzD,eAAaW,eAAb,CAA6B;AAAEC,IAAAA,SAAF;AAAaC,IAAAA;AAAb,GAA7B,EAAiD;AAC/C,UAAMC,KAAK,GAAGL,OAAO,CAACM,GAAR,CAAYF,GAAZ,EAAiBN,kBAAjB,CAAd;AACA,QAAIS,YAAY,GAAG,EAAnB;;AACA,QAAIF,KAAJ,EAAW;AACT,YAAMG,IAAI,GAAG,IAAIX,SAAJ,CAAcQ,KAAd,CAAb;AACAE,MAAAA,YAAY,GAAG;AAAEC,QAAAA;AAAF,OAAf;AACD;;AACD,QAAIL,SAAS,CAACD,eAAd,EAA+B;AAC7B,aAAOC,SAAS,CAACD,eAAV,CAA0BE,GAA1B,EAA+BG,YAA/B,CAAP;AACD;;AAED,WAAOA,YAAP;AACD;;AAED,MAAIC,IAAJ,GAAW;AACT,QAAI,KAAKC,KAAL,CAAWD,IAAf,EAAqB;AACnB;AACA;AACA;AACA;AACA,aAAO,IAAIX,SAAJ,CAAc,KAAKY,KAAL,CAAWD,IAAX,CAAgBH,KAA9B,CAAP;AACD;;AACD,WAAO,IAAP;AACD;;AAEDK,EAAAA,iBAAiB,GAAG;AAClBlB,IAAAA,MAAM,CAACmB,MAAP,CAAcC,EAAd,CAAiB,qBAAjB,EAAwC,MAAM;AAC5CnB,MAAAA,SAAS,CAACoB,KAAV;AACD,KAFD;AAIArB,IAAAA,MAAM,CAACmB,MAAP,CAAcC,EAAd,CAAiB,qBAAjB,EAAwC,MAAMnB,SAAS,CAACqB,IAAV,EAA9C;AACAtB,IAAAA,MAAM,CAACmB,MAAP,CAAcC,EAAd,CAAiB,kBAAjB,EAAqC,MAAMnB,SAAS,CAACqB,IAAV,EAA3C;AACD;;AAEDC,EAAAA,iBAAiB,CAACC,KAAD,EAAaC,SAAb,EAA6B;AAC5C,UAAMF,iBAAN,CAAwBC,KAAxB,EAA+BC,SAA/B;AACD;;AAEDC,EAAAA,MAAM,GAAG;AACP,UAAM;AAAEf,MAAAA,SAAF;AAAagB,MAAAA;AAAb,QAA2B,KAAKV,KAAtC;AAEA,WACE,MAAC,WAAD;AAAa,MAAA,IAAI,EAAE,KAAKD,IAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,MAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,EAEE,MAAC,aAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,MAAC,SAAD;AAAW,MAAA,SAAS,EAAC,MAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,MAAC,SAAD,eAAeW,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OADF,CADF,CAFF,CADF;AAUD;;AApDwD","sourcesContent":["import App from \"next/app\";\nimport Router from \"next/router\";\nimport NProgress from \"nprogress\";\nimport { Header } from \"components/layout\";\nimport { ErrorBoundary } from \"components/error-boundary\";\nimport { ProvideAuth, AuthToken, TOKEN_STORAGE_NAME } from \"utils/auth\";\nimport { Container } from \"reactstrap\";\nimport nookies from \"nookies\";\n\ntype CustomAppProps = {\n  auth?: AuthToken;\n};\n\nexport default class CustomApp extends App<CustomAppProps> {\n  static async getInitialProps({ Component, ctx }) {\n    const token = nookies.get(ctx)[TOKEN_STORAGE_NAME];\n    let initialProps = {};\n    if (token) {\n      const auth = new AuthToken(token);\n      initialProps = { auth };\n    }\n    if (Component.getInitialProps) {\n      return Component.getInitialProps(ctx, initialProps);\n    }\n\n    return initialProps;\n  }\n\n  get auth() {\n    if (this.props.auth) {\n      // the server pass to the client serializes the token\n      // so we have to reinitialize the authToken class\n      //\n      // @see https://github.com/zeit/next.js/issues/3536\n      return new AuthToken(this.props.auth.token);\n    }\n    return null;\n  }\n\n  componentDidMount() {\n    Router.events.on(\"routeChangeComplete\", () => {\n      NProgress.start();\n    });\n\n    Router.events.on(\"routeChangeComplete\", () => NProgress.done());\n    Router.events.on(\"routeChangeError\", () => NProgress.done());\n  }\n\n  componentDidCatch(error: any, errorInfo: any) {\n    super.componentDidCatch(error, errorInfo);\n  }\n\n  render() {\n    const { Component, pageProps } = this.props;\n\n    return (\n      <ProvideAuth auth={this.auth}>\n        <Header />\n        <ErrorBoundary>\n          <Container className=\"mt-3\">\n            <Component {...pageProps} />\n          </Container>\n        </ErrorBoundary>\n      </ProvideAuth>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}