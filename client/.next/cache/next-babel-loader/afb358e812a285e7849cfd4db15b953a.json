{"ast":null,"code":"var _jsxFileName = \"/usr/src/app/pages/_app.tsx\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport App from \"next/app\";\nimport Router from \"next/router\";\nimport NProgress from \"nprogress\";\nimport { Header } from \"components/layout\";\nimport { ErrorBoundary } from \"components/error-boundary\";\nimport { ProvideAuth, AuthToken, TOKEN_STORAGE_NAME } from \"utils/auth\";\nimport { Container } from \"reactstrap\";\nimport nookies from \"nookies\";\nexport default class CustomApp extends App {\n  static async getInitialProps({\n    Component,\n    ctx\n  }) {\n    const token = nookies.get(ctx)[TOKEN_STORAGE_NAME];\n    let initialProps = {};\n    if (token) {\n      const auth = new AuthToken(token);\n      initialProps = {\n        auth\n      };\n    }\n    if (Component.getInitialProps) {\n      return Component.getInitialProps(ctx, initialProps);\n    }\n    return initialProps;\n  }\n  get auth() {\n    if (this.props.auth) {\n      // the server pass to the client serializes the token\n      // so we have to reinitialize the authToken class\n      //\n      // @see https://github.com/zeit/next.js/issues/3536\n      return new AuthToken(this.props.auth.token);\n    }\n    return null;\n  }\n  componentDidMount() {\n    Router.events.on(\"routeChangeComplete\", () => {\n      NProgress.start();\n    });\n    Router.events.on(\"routeChangeComplete\", () => NProgress.done());\n    Router.events.on(\"routeChangeError\", () => NProgress.done());\n  }\n  componentDidCatch(error, errorInfo) {\n    super.componentDidCatch(error, errorInfo);\n  }\n  render() {\n    const {\n      Component,\n      pageProps\n    } = this.props;\n    return __jsx(ProvideAuth, {\n      auth: this.auth,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 7\n      }\n    }, __jsx(Header, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }\n    }), __jsx(ErrorBoundary, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }\n    }, __jsx(Container, {\n      className: \"mt-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 11\n      }\n    }, __jsx(Component, _extends({}, pageProps, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 13\n      }\n    })))));\n  }\n}","map":{"version":3,"names":["App","Router","NProgress","Header","ErrorBoundary","ProvideAuth","AuthToken","TOKEN_STORAGE_NAME","Container","nookies","CustomApp","getInitialProps","Component","ctx","token","get","initialProps","auth","props","componentDidMount","events","on","start","done","componentDidCatch","error","errorInfo","render","pageProps","__jsx","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","className","_extends"],"sources":["/usr/src/app/pages/_app.tsx"],"sourcesContent":["import App from \"next/app\";\nimport Router from \"next/router\";\nimport NProgress from \"nprogress\";\nimport { Header } from \"components/layout\";\nimport { ErrorBoundary } from \"components/error-boundary\";\nimport { ProvideAuth, AuthToken, TOKEN_STORAGE_NAME } from \"utils/auth\";\nimport { Container } from \"reactstrap\";\nimport nookies from \"nookies\";\n\ntype CustomAppProps = {\n  auth?: AuthToken;\n};\n\nexport default class CustomApp extends App<CustomAppProps> {\n  static async getInitialProps({ Component, ctx }) {\n    const token = nookies.get(ctx)[TOKEN_STORAGE_NAME];\n    let initialProps = {};\n    if (token) {\n      const auth = new AuthToken(token);\n      initialProps = { auth };\n    }\n    if (Component.getInitialProps) {\n      return Component.getInitialProps(ctx, initialProps);\n    }\n\n    return initialProps;\n  }\n\n  get auth() {\n    if (this.props.auth) {\n      // the server pass to the client serializes the token\n      // so we have to reinitialize the authToken class\n      //\n      // @see https://github.com/zeit/next.js/issues/3536\n      return new AuthToken(this.props.auth.token);\n    }\n    return null;\n  }\n\n  componentDidMount() {\n    Router.events.on(\"routeChangeComplete\", () => {\n      NProgress.start();\n    });\n\n    Router.events.on(\"routeChangeComplete\", () => NProgress.done());\n    Router.events.on(\"routeChangeError\", () => NProgress.done());\n  }\n\n  componentDidCatch(error: any, errorInfo: any) {\n    super.componentDidCatch(error, errorInfo);\n  }\n\n  render() {\n    const { Component, pageProps } = this.props;\n\n    return (\n      <ProvideAuth auth={this.auth}>\n        <Header />\n        <ErrorBoundary>\n          <Container className=\"mt-3\">\n            <Component {...pageProps} />\n          </Container>\n        </ErrorBoundary>\n      </ProvideAuth>\n    );\n  }\n}\n"],"mappings":";;;;AAAA,OAAOA,GAAG,MAAM,UAAU;AAC1B,OAAOC,MAAM,MAAM,aAAa;AAChC,OAAOC,SAAS,MAAM,WAAW;AACjC,SAASC,MAAM,QAAQ,mBAAmB;AAC1C,SAASC,aAAa,QAAQ,2BAA2B;AACzD,SAASC,WAAW,EAAEC,SAAS,EAAEC,kBAAkB,QAAQ,YAAY;AACvE,SAASC,SAAS,QAAQ,YAAY;AACtC,OAAOC,OAAO,MAAM,SAAS;AAM7B,eAAe,MAAMC,SAAS,SAASV,GAAG,CAAiB;EACzD,aAAaW,eAAeA,CAAC;IAAEC,SAAS;IAAEC;EAAI,CAAC,EAAE;IAC/C,MAAMC,KAAK,GAAGL,OAAO,CAACM,GAAG,CAACF,GAAG,CAAC,CAACN,kBAAkB,CAAC;IAClD,IAAIS,YAAY,GAAG,CAAC,CAAC;IACrB,IAAIF,KAAK,EAAE;MACT,MAAMG,IAAI,GAAG,IAAIX,SAAS,CAACQ,KAAK,CAAC;MACjCE,YAAY,GAAG;QAAEC;MAAK,CAAC;IACzB;IACA,IAAIL,SAAS,CAACD,eAAe,EAAE;MAC7B,OAAOC,SAAS,CAACD,eAAe,CAACE,GAAG,EAAEG,YAAY,CAAC;IACrD;IAEA,OAAOA,YAAY;EACrB;EAEA,IAAIC,IAAIA,CAAA,EAAG;IACT,IAAI,IAAI,CAACC,KAAK,CAACD,IAAI,EAAE;MACnB;MACA;MACA;MACA;MACA,OAAO,IAAIX,SAAS,CAAC,IAAI,CAACY,KAAK,CAACD,IAAI,CAACH,KAAK,CAAC;IAC7C;IACA,OAAO,IAAI;EACb;EAEAK,iBAAiBA,CAAA,EAAG;IAClBlB,MAAM,CAACmB,MAAM,CAACC,EAAE,CAAC,qBAAqB,EAAE,MAAM;MAC5CnB,SAAS,CAACoB,KAAK,CAAC,CAAC;IACnB,CAAC,CAAC;IAEFrB,MAAM,CAACmB,MAAM,CAACC,EAAE,CAAC,qBAAqB,EAAE,MAAMnB,SAAS,CAACqB,IAAI,CAAC,CAAC,CAAC;IAC/DtB,MAAM,CAACmB,MAAM,CAACC,EAAE,CAAC,kBAAkB,EAAE,MAAMnB,SAAS,CAACqB,IAAI,CAAC,CAAC,CAAC;EAC9D;EAEAC,iBAAiBA,CAACC,KAAU,EAAEC,SAAc,EAAE;IAC5C,KAAK,CAACF,iBAAiB,CAACC,KAAK,EAAEC,SAAS,CAAC;EAC3C;EAEAC,MAAMA,CAAA,EAAG;IACP,MAAM;MAAEf,SAAS;MAAEgB;IAAU,CAAC,GAAG,IAAI,CAACV,KAAK;IAE3C,OACEW,KAAA,CAACxB,WAAW;MAACY,IAAI,EAAE,IAAI,CAACA,IAAK;MAAAa,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,GAC3BN,KAAA,CAAC1B,MAAM;MAAA2B,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,CAAE,CAAC,EACVN,KAAA,CAACzB,aAAa;MAAA0B,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,GACZN,KAAA,CAACrB,SAAS;MAAC4B,SAAS,EAAC,MAAM;MAAAN,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,GACzBN,KAAA,CAACjB,SAAS,EAAAyB,QAAA,KAAKT,SAAS;MAAAE,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,EAAG,CAClB,CACE,CACJ,CAAC;EAElB;AACF","ignoreList":[]},"metadata":{},"sourceType":"module"}